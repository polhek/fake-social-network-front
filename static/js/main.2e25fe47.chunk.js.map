{"version":3,"sources":["redux/hooks.ts","redux/userSlice.ts","components/Header.tsx","components/Login.tsx","components/otheruser/SendRequest.tsx","components/otheruser/CancelRequest.tsx","components/otheruser/RemoveFriend.tsx","components/otheruser/ReplyRequest.tsx","components/OtherUser.tsx","redux/allUsersSlice.ts","redux/postsSlice.ts","components/AllUsers.tsx","components/friends/Friend.tsx","components/friends/FriendList.tsx","components/main/NewPost.tsx","components/main/Like.tsx","components/main/Comment.tsx","components/main/LikePost.tsx","components/main/CommentPost.tsx","components/main/DeletePost.tsx","helper.ts","components/main/CommentItem.tsx","components/main/NewComment.tsx","components/main/Comments.tsx","components/main/PostEdit.tsx","components/main/Post.tsx","components/main/PostList.tsx","components/main/PostMain.tsx","components/pendingRequests/PendingRequest.tsx","components/pendingRequests/PendingFriend.tsx","components/sendRequests/Send.tsx","components/sendRequests/SendFriend.tsx","components/Odinbook.tsx","hoc/protectedRoute.tsx","components/profile/ProfileMain.tsx","components/profile/Profile.tsx","App.tsx","serviceWorker.ts","redux/store.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","loginUser","createAsyncThunk","access_token","thunkAPI","a","axios","post","response","status","localStorage","setItem","data","token","loggedIn","user","rejectWithValue","console","log","updateUser","get","headers","Authorization","initialState","undefined","isFetching","isSuccess","isError","userSlice","createSlice","name","reducers","logOut","state","clear","extraReducers","builder","addCase","fulfilled","payload","rejected","pending","actions","Header","props","dispatch","className","to","src","profile_img_url","alt","first_name","last_name","onClick","Login","responseFacebook","accessToken","appId","process","autoLoad","fields","callback","cssClass","SendRequest","secondUser_id","loggedUser_id","sendFriendRequest","getItem","toString","CancelRequest","cancelFriendRequest","delete","RemoveFriend","removeFriendRequest","ReplyRequest","cancelFriend","acceptFriend","put","OtherUser","loggedUser","id","_id","friends","includes","friend_requests","friend_send","getAllUsers","allUsers","allUsersSlice","getAllPosts","posts","allPosts","allPostsSlice","AllUsers","loading","useEffect","type","color","height","width","map","Friend","friend","FriendList","friendList","length","NewPost","useState","text","setText","image","setImage","ref","useRef","submitHandler","e","preventDefault","FormData","append","current","value","onSubmit","event","placeholder","onChange","target","changeHandler","required","files","postImageHandler","Like","likes","Comment","comments","showHide","LikePost","postId","likePost","CommentPost","DeletePost","deletePost","timeFromPostTime","time","start","DateTime","now","createdAtPost","fromISO","differenceBetween","diff","obj","toObject","minutes","Math","round","shiftTo","hours","days","CommentItem","comment","deleteComment","createdAt","NewComment","newComment","setNewComment","Comments","allComments","PostEdit","userImg","closeModal","setLoading","getPost","singlePost","t","Modal","setAppElement","customStyles","content","top","left","right","bottom","marginRight","transform","padding","borderRadius","Post","showComments","setShowComments","modalIsOpen","setIsOpen","image_url","isOpen","onRequestClose","style","contentLabel","PostList","friendPosts","PostMain","PendingRequest","request","PendingFriend","friendRequests","Send","sendRequest","SendFriend","sendFriendRequests","Odinbook","ProtectedRoute","Component","component","rest","render","routeProps","pathname","from","location","ProfileMain","profileImage","setProfileImage","onChangeHandler","Profile","App","exact","path","Boolean","window","hostname","match","store","configureStore","reducer","userReducer","allUserReducer","allPostsReducer","defaults","baseURL","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.2e25fe47.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport type { RootState, AppDispatch } from './store'\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport type { RootState } from './store'\nimport axios from 'axios'\n\n\nexport const loginUser  = createAsyncThunk('user/login', async(access_token: string, thunkAPI)=>{\n    try {\n        const response = await axios.post(\"https://warm-falls-67590.herokuapp.com/api/user/oauth/facebook\",{access_token})\n\n        if (response.status === 200) {\n            localStorage.setItem('token', response.data.token)\n            return {...response.data, loggedIn:true, user: response.data.user}\n        } else {\n            return thunkAPI.rejectWithValue(response.data)\n        }\n    } catch (err) {\n        console.log('Error', err.response.data);\n        return thunkAPI.rejectWithValue(err.response.data);\n    }\n})\n\n\nexport const updateUser = createAsyncThunk('user/update', async(token: string, thunkAPI)=>{\n  try {\n      const response = await axios.get(\"https://warm-falls-67590.herokuapp.com/api/user/updateUser\",{\n        headers: { Authorization: token },\n      })\n\n      if (response.status === 200) {\n          return {...response.data, user: response.data.user}\n      } else {\n          return thunkAPI.rejectWithValue(response.data)\n      }\n  } catch (err) {\n      console.log('Error', err.response.data);\n      return thunkAPI.rejectWithValue(err.response.data);\n  }\n})\n\nexport interface User {\n  _id: string;\n  posts: any[];\n  friends: any[];\n  friend_send: any[];\n  friend_requests: any[];\n  first_name: string;\n  last_name: string;\n  email: string;\n  profile_img_url: string;\n  facebook_id: string;\n}\n\ninterface UserState {\n    loggedIn:boolean;\n    user?: User;\n    isFetching: boolean;\n    isSuccess:boolean;\n    isError:boolean;\n  }\n\n\n  const initialState: UserState = {\n    loggedIn: false,\n    user: undefined,\n    isFetching: false,\n    isSuccess:false,\n    isError:false,\n  }\n\n  export const userSlice = createSlice({\n    name: 'user',\n    // `createSlice` will infer the state type from the `initialState` argument\n    initialState,\n    reducers: {\n        logOut: (state) =>{\n            localStorage.clear();\n            state = initialState;\n            return state;\n        }\n    },\n    extraReducers:(builder)=>{\n        builder.addCase(loginUser.fulfilled, (state, { payload }) => {\n            state.user = payload.user;\n            state.loggedIn = payload.loggedIn;\n            state.isFetching = false;\n            state.isSuccess = true;\n            return state;\n          })\n        builder.addCase(loginUser.rejected, (state, { payload }) => {\n            state.isFetching = false;\n            state.isError = true;\n          })\n        builder.addCase(loginUser.pending,(state) => {\n            state.isFetching = true;\n          })\n          builder.addCase(updateUser.fulfilled, (state,{payload})=>{\n            state.user = payload.user\n          })\n    }\n  })\n\n\n\n  export const { logOut } = userSlice.actions\n\n\n  export default userSlice.reducer","import React from 'react';\nimport { useAppSelector } from '../redux/hooks';\nimport { LogoutIcon } from '@heroicons/react/solid';\nimport { useAppDispatch } from '../redux/hooks';\nimport { logOut } from '../redux/userSlice';\nimport { Link } from 'react-router-dom';\n\ninterface Props {}\n\nconst Header = (props: Props) => {\n  const dispatch = useAppDispatch();\n  const loggedIn = useAppSelector((state) => state.user.loggedIn);\n  const user = useAppSelector((state) => state.user.user);\n\n  const logOutFunction = () => {\n    dispatch(logOut());\n  };\n\n  return (\n    <header className=\"flex flex-row justify-between items-center px-7 py-3 bg-gray-800\">\n      <Link to=\"/odinbook\">\n        <h1 className=\"font-bold text-4xl\">\n          The <span className=\"text-red-600\">Odin</span>book\n        </h1>\n      </Link>\n\n      <div className=\"flex items-center justify-center space-x-5\">\n        {!loggedIn && (\n          <h2 className=\"font-bold text-xl text-red-600 \">\n            No user is logged in!\n          </h2>\n        )}\n        {loggedIn && (\n          <>\n            <Link to=\"/profile\">\n              <span className=\"font-semibold text-xl px-4 py-2 hov border-2 hover:bg-red-500 transform hover:scale-105 border-red-500 \">\n                Profile\n              </span>\n            </Link>\n\n            <div className=\"flex items-center\">\n              <img\n                className=\"inline object-cover w-12 h-12 mr-2 rounded-full\"\n                src={user?.profile_img_url}\n                alt=\"avatar\"\n              />\n              <h2 className=\"font-bold text-xl \">{`${user?.first_name} ${user?.last_name}`}</h2>\n            </div>\n\n            <button\n              onClick={logOutFunction}\n              className=\"bg-red-600 hover:bg-red-700 p-1 rounded flex items-center justify-center ml-2\"\n            >\n              <LogoutIcon className=\"text-white h-5 w-5 mr-2\" />\n              <span>Log out</span>\n            </button>\n          </>\n        )}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport FacebookLogin from 'react-facebook-login';\nimport { Redirect } from 'react-router';\nimport { useAppDispatch, useAppSelector } from '../redux/hooks';\nimport { loginUser } from '../redux/userSlice';\n\ninterface Props {\n  history: any;\n}\n\nconst fb_ID: string = process.env.REACT_APP_FB_ID as string;\n\nconst Login = (props: Props) => {\n  const dispatch = useAppDispatch();\n  const loggedIn = useAppSelector((state) => state.user.loggedIn);\n\n  const responseFacebook = async (response: any) => {\n    const access_token: string = response.accessToken;\n    localStorage.setItem('access_token', access_token);\n    dispatch(loginUser(access_token));\n  };\n\n  if (loggedIn) {\n    return <Redirect to=\"/odinbook\" />;\n  }\n\n  return (\n    <div className=\"flex justify-center \">\n      <div className=\"bg-gray-800 mt-32 p-32 flex justify-center flex-col items-center text-lg rounded-xl shadow\">\n        <p>To login to the Odinbook, click the button bellow.</p>\n        <FacebookLogin\n          appId={fb_ID}\n          autoLoad={false}\n          fields=\"name,email,picture\"\n          callback={responseFacebook}\n          cssClass=\"bg-blue-600 rounded p-3 hover:bg-blue-800 mt-4 \"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from 'react';\nimport { MailIcon } from '@heroicons/react/solid';\nimport axios from 'axios';\nimport { useAppDispatch } from '../../redux/hooks';\nimport { updateUser } from '../../redux/userSlice';\n\ninterface Props {\n  secondUser_id?: string;\n  loggedUser_id?: string;\n}\n\nconst SendRequest = ({ secondUser_id, loggedUser_id }: Props) => {\n  const dispatch = useAppDispatch();\n\n  const sendFriendRequest = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (token) {\n        const response = await axios.post(\n          `/api/user/${secondUser_id?.toString()}/send-request`,\n          null,\n          {\n            headers: { Authorization: token },\n          }\n        );\n        dispatch(updateUser(token));\n        console.log(response);\n      }\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n  return (\n    <>\n      <button\n        onClick={sendFriendRequest}\n        className=\"bg-green-600 hover:bg-green-700 p-1 rounded flex items-center justify-center ml-2\"\n      >\n        <MailIcon className=\"text-white h-5 w-5\" />\n        <span>Send friend request</span>\n      </button>\n    </>\n  );\n};\n\nexport default SendRequest;\n","import React from 'react';\nimport { XCircleIcon } from '@heroicons/react/solid';\nimport axios from 'axios';\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport { updateUser } from '../../redux/userSlice';\n\ninterface Props {\n  secondUser_id?: string;\n}\n\nconst CancelRequest = ({ secondUser_id }: Props) => {\n  const dispatch = useAppDispatch();\n  const loggedIn = useAppSelector((state) => state.user.loggedIn);\n\n  const cancelFriendRequest = async () => {\n    try {\n      const token = localStorage.getItem('token');\n\n      if (token && loggedIn) {\n        const response = await axios.delete(\n          `/api/user/${secondUser_id}/unsend-friend`,\n          { headers: { Authorization: token } }\n        );\n        dispatch(updateUser(token));\n        console.log('cancel', response);\n      }\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  return (\n    <>\n      <button\n        onClick={cancelFriendRequest}\n        className=\"bg-red-600 hover:bg-red-700 p-1 rounded flex items-center justify-center ml-2\"\n      >\n        <XCircleIcon className=\"text-white h-5 w-5\" />\n        <span>Unsend Request</span>\n      </button>\n    </>\n  );\n};\n\nexport default CancelRequest;\n","import React from 'react';\nimport { TrashIcon } from '@heroicons/react/solid';\nimport axios from 'axios';\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport { updateUser } from '../../redux/userSlice';\n\ninterface Props {\n  secondUser_id?: string;\n}\n\nconst RemoveFriend = ({ secondUser_id }: Props) => {\n  const dispatch = useAppDispatch();\n  const loggedIn = useAppSelector((state) => state.user.loggedIn);\n\n  const removeFriendRequest = async () => {\n    try {\n      const token = localStorage.getItem('token');\n\n      if (token && loggedIn) {\n        const response = await axios.delete(\n          `/api/user/${secondUser_id}/remove-friend`,\n          { headers: { Authorization: token } }\n        );\n        dispatch(updateUser(token));\n        console.log('remove', response);\n      }\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  return (\n    <>\n      <button\n        onClick={removeFriendRequest}\n        className=\"bg-red-600 hover:bg-red-700 p-1 rounded flex items-center justify-center ml-2\"\n      >\n        <TrashIcon className=\"text-white h-5 w-5\" />\n        <span>Remove friend</span>\n      </button>\n    </>\n  );\n};\n\nexport default RemoveFriend;\n","import React from 'react';\nimport { CheckCircleIcon, TrashIcon } from '@heroicons/react/solid';\nimport axios from 'axios';\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport { updateUser } from '../../redux/userSlice';\n\ninterface Props {\n  secondUser_id?: string;\n}\n\nconst ReplyRequest = ({ secondUser_id }: Props) => {\n  const dispatch = useAppDispatch();\n  const loggedIn = useAppSelector((state) => state.user.loggedIn);\n\n  const cancelFriend = async () => {\n    try {\n      const token = localStorage.getItem('token');\n\n      if (token && loggedIn) {\n        const response = await axios.delete(\n          `/api/user/${secondUser_id}/cancel-friend`,\n          { headers: { Authorization: token } }\n        );\n        console.log('cancel', response);\n        dispatch(updateUser(token));\n      }\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n\n  const acceptFriend = async () => {\n    try {\n      const token = localStorage.getItem('token');\n\n      if (token && loggedIn) {\n        const response = await axios.put(\n          `/api/user/${secondUser_id}/accept-friend`,\n          null,\n          { headers: { Authorization: token } }\n        );\n\n        dispatch(updateUser(token));\n        console.log('cancel', response);\n      }\n    } catch (err) {\n      console.log(err.response);\n    }\n  };\n  return (\n    <>\n      <button\n        onClick={acceptFriend}\n        className=\"bg-blue-600 hover:bg-blue-700 p-1 rounded flex items-center justify-center ml-2\"\n      >\n        <CheckCircleIcon className=\"text-white h-5 w-5\" />\n        <span>Accept</span>\n      </button>\n      <button\n        onClick={cancelFriend}\n        className=\"bg-red-600 hover:bg-red-700 p-1 rounded flex items-center justify-center ml-2\"\n      >\n        <TrashIcon className=\"text-white h-5 w-5\" />\n        <span>Cancel</span>\n      </button>\n    </>\n  );\n};\n\nexport default ReplyRequest;\n","import React from 'react';\nimport { User } from '../redux/userSlice';\nimport { useAppSelector } from '../redux/hooks';\nimport SendRequest from './otheruser/SendRequest';\nimport CancelRequest from './otheruser/CancelRequest';\nimport RemoveFriend from './otheruser/RemoveFriend';\nimport ReplyRequest from './otheruser/ReplyRequest';\n\ninterface Props {\n  user?: User;\n}\n\nconst OtherUser = ({ user }: Props) => {\n  const loggedUser = useAppSelector((state) => state.user.user);\n  const id = loggedUser?._id;\n\n  return (\n    <div className=\"bg-gray-900 rounded flex justify-between mt-2 p-2\">\n      <div className=\"flex items-center\">\n        <img\n          className=\"inline object-cover w-8 h-8 rounded-full mr-2\"\n          src={user?.profile_img_url}\n          alt=\"avatar\"\n        />\n        <p className=\"text-base\">{`${user?.first_name} ${user?.last_name} `}</p>\n      </div>\n      <div>\n        {user?.friends.includes(id) && (\n          <RemoveFriend secondUser_id={user?._id} />\n        )}\n\n        {!user?.friend_requests.includes(id) &&\n          !user?.friend_send.includes(id) &&\n          !user?.friends.includes(id) && (\n            <SendRequest\n              secondUser_id={user?._id}\n              loggedUser_id={loggedUser?._id}\n            />\n          )}\n\n        {user?.friend_send.includes(id) && (\n          <ReplyRequest secondUser_id={user?._id} />\n        )}\n\n        {user?.friend_requests.includes(id) && (\n          <CancelRequest secondUser_id={user?._id} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default OtherUser;\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport type { RootState } from './store'\nimport axios from 'axios'\n\n\nexport const getAllUsers  = createAsyncThunk('all/users', async(token: string, thunkAPI)=>{\n    try {\n        const response = await axios.get(\"https://warm-falls-67590.herokuapp.com/api/user/allUsers\",{\n            headers: { Authorization: token },\n          })\n\n        if (response.status === 200) {\n            const allUsers = response.data.allUsers;\n            return {...response.data,  allUsers: allUsers}\n        } else {\n            return thunkAPI.rejectWithValue(response.data)\n        }\n    } catch (err) {\n        console.log('Error', err.response.data);\n        return thunkAPI.rejectWithValue(err.response.data);\n    }\n})\n\n\n\n\ninterface UserState {\n    allUsers?:any[];\n    isFetching: boolean;\n    isSuccess:boolean;\n    isError:boolean;\n  }\n\n\n  const initialState: UserState = {\n    allUsers:undefined,\n    isFetching: false,\n    isSuccess:false,\n    isError:false,\n  }\n\n  export const allUsersSlice = createSlice({\n    name: 'allUsers',\n    // `createSlice` will infer the state type from the `initialState` argument\n    initialState,\n    reducers: {\n\n    },\n    extraReducers:(builder)=>{\n        builder.addCase(getAllUsers.fulfilled, (state, { payload }) => {\n            state.allUsers = payload.allUsers;\n            state.isFetching = false;\n            state.isSuccess = true;\n            return state;\n          })\n        builder.addCase(getAllUsers.rejected, (state, { payload }) => {\n            state.isFetching = false;\n            state.isError = true;\n          })\n        builder.addCase(getAllUsers.pending,(state) => {\n            state.isFetching = true;\n          })\n    }\n  })\n\n  export default allUsersSlice.reducer","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\nimport type { RootState } from './store'\nimport axios from 'axios'\n\n\nexport const getAllPosts  = createAsyncThunk('all/posts', async(token: string, thunkAPI)=>{\n    try {\n        const response = await axios.get(\"https://warm-falls-67590.herokuapp.com/api/posts/all\",{\n            headers: { Authorization: token },\n          })\n\n        if (response.status === 200) {\n            const posts = response.data.posts;\n            return {...response.data,  posts: posts}\n        } else {\n            return thunkAPI.rejectWithValue(response.data)\n        }\n    } catch (err) {\n        console.log('Error', err.response.data);\n        return thunkAPI.rejectWithValue(err.response.data);\n    }\n})\n\n\n\n\n\n\n\ninterface PostsState {\n    allPosts?:any[];\n    isFetching: boolean;\n    isSuccess:boolean;\n    isError:boolean;\n  }\n\n\n  const initialState: PostsState = {\n    allPosts:undefined,\n    isFetching: false,\n    isSuccess:false,\n    isError:false,\n  }\n\n  export const allPostsSlice = createSlice({\n    name: 'allPosts',\n    // `createSlice` will infer the state type from the `initialState` argument\n    initialState,\n    reducers: {\n\n    },\n    extraReducers:(builder)=>{\n        builder.addCase(getAllPosts.fulfilled, (state, { payload }) => {\n            state.allPosts = payload.posts;\n            state.isFetching = false;\n            state.isSuccess = true;\n            return state;\n          })\n        builder.addCase(getAllPosts.rejected, (state, { payload }) => {\n            state.isFetching = false;\n            state.isError = true;\n          })\n        builder.addCase(getAllPosts.pending,(state) => {\n            state.isFetching = true;\n          })\n    }\n  })\n\n  export default allPostsSlice.reducer","import React, { useEffect } from 'react';\nimport { useAppDispatch, useAppSelector } from '../redux/hooks';\nimport OtherUser from './OtherUser';\nimport { getAllUsers } from '../redux/allUsersSlice';\nimport { getAllPosts } from '../redux/postsSlice';\nimport Loader from 'react-loader-spinner';\n\ninterface Props {}\n\nconst AllUsers = (props: Props) => {\n  // const [users, setUsers] = useState<any[]>([]);\n  const dispatch = useAppDispatch();\n  const loggedUser = useAppSelector((state) => state.user.user);\n  const loggedIn = useAppSelector((state) => state.user.loggedIn);\n  const allUsers = useAppSelector((state) => state.allUsers.allUsers);\n  const token = localStorage.getItem('token');\n  const loading = useAppSelector((state) => state.allUsers.isFetching);\n\n  useEffect(() => {\n    if (loggedIn && token) {\n      dispatch(getAllUsers(token));\n      dispatch(getAllPosts(token));\n    }\n  }, [loggedUser]);\n\n  return (\n    <div className=\"bg-gray-800 bg-opacity-90 m-2 rounded h-2/5 p-2 text-white shadow overflow-auto\">\n      <h3 className=\"font-bold mb-1 text-lg \">All users:</h3>\n      {loading && (\n        <div className=\"flex justify-center\">\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        </div>\n      )}\n      {!loading &&\n        allUsers &&\n        allUsers.map((user) => {\n          return <OtherUser key={user._id} user={user} />;\n        })}\n    </div>\n  );\n};\n\nexport default AllUsers;\n","import React from 'react';\nimport { User } from '../../redux/userSlice';\nimport RemoveFriend from '../otheruser/RemoveFriend';\n\ninterface Props {\n  friend: User;\n}\n\nconst Friend = ({ friend }: Props) => {\n  return (\n    <div className=\"bg-gray-900 rounded flex justify-between mt-2 p-2\">\n      <div className=\"flex items-center\">\n        <img\n          className=\"inline object-cover w-8 h-8 rounded-full mr-2\"\n          src={friend?.profile_img_url}\n          alt=\"avatar\"\n        />\n        <p className=\"text-base\">{`${friend?.first_name} ${friend?.last_name} `}</p>\n      </div>\n      <div>\n        <RemoveFriend secondUser_id={friend?._id} />\n      </div>\n    </div>\n  );\n};\n\nexport default Friend;\n","import React from 'react';\nimport { useAppSelector } from '../../redux/hooks';\nimport Friend from './Friend';\nimport Loader from 'react-loader-spinner';\n\ninterface Props {}\n\nconst FriendList = (props: Props) => {\n  const friendList = useAppSelector((state) => state.user.user?.friends);\n  const loading = useAppSelector((state) => state.user.isFetching);\n  return (\n    <div className=\"bg-gray-800 bg-opacity-90 m-2 rounded h-2/5 p-2 text-white shadow overflow-scroll\">\n      <h3 className=\"font-bold mb-1 text-lg \">Friends:</h3>\n      {loading && (\n        <div className=\"flex justify-center\">\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        </div>\n      )}\n      {!loading &&\n        friendList &&\n        friendList.map((friend) => {\n          return <Friend key={friend._id} friend={friend} />;\n        })}\n      {!friendList?.length && (\n        <p className=\"text-red-500\">You have no friends!</p>\n      )}\n    </div>\n  );\n};\n\nexport default FriendList;\n","import React, { useState, useRef } from 'react';\nimport { useAppSelector, useAppDispatch } from '../../redux/hooks';\nimport { MailIcon } from '@heroicons/react/solid';\nimport axios from 'axios';\nimport { updateUser } from '../../redux/userSlice';\nimport TextareaAutosize from 'react-textarea-autosize';\n\ninterface Props {}\n\nconst NewPost = (props: Props) => {\n  const [text, setText] = useState<string>('');\n  const token = localStorage.getItem('token');\n  const [image, setImage] = useState<any>(null);\n  const ref = useRef<HTMLInputElement | null>(null);\n  const dispatch = useAppDispatch();\n\n  const changeHandler = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setText(event.target.value);\n  };\n\n  const postImageHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!event.target.files) return;\n    setImage(event.target.files[0]);\n  };\n\n  const submitHandler = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    try {\n      if (token && text.length > 0 && !image) {\n        console.log('samo text');\n        await axios.post(\n          'api/posts/newPost',\n          { text: text },\n          { headers: { Authorization: token } }\n        );\n        dispatch(updateUser(token));\n        setText('');\n      }\n      if (token && image && text.length > 0) {\n        console.log('file');\n        const data = new FormData();\n\n        data.append('text', text);\n        data.append('file', image);\n        await axios.post('api/posts/newPost', data, {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n            Authorization: token,\n          },\n        });\n\n        setText('');\n        setImage(null);\n        if (ref.current) {\n          ref.current.value = '';\n        }\n\n        dispatch(updateUser(token));\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const user = useAppSelector((state) => state.user.user);\n  return (\n    <div className=\"bg-gray-800 m-2 rounded p-2 flex flex-col \">\n      <form\n        onSubmit={(event) => {\n          submitHandler(event);\n        }}\n      >\n        <div className=\"flex\">\n          <img\n            className=\"inline object-cover w-9 h-9  mr-2 rounded-full\"\n            src={user?.profile_img_url}\n            alt=\"avatar\"\n          />\n\n          <TextareaAutosize\n            placeholder={`What are you thinking about, ${user?.first_name}`}\n            className=\"w-full bg-gray-500 rounded-2xl p-1\"\n            onChange={(event) => {\n              changeHandler(event);\n            }}\n            value={text}\n            required\n          />\n        </div>\n        <div className=\"pt-3 flex justify-between items-center\">\n          <button\n            type=\"submit\"\n            className=\"bg-green-700 p-2 flex rounded items-center justify-items-center\"\n          >\n            <MailIcon className=\"h-5 w-5 mr-2\" />\n            <span>Send Post</span>\n          </button>\n          <div>\n            <input\n              type=\"file\"\n              name=\"file\"\n              id=\"file\"\n              onChange={(event) => {\n                postImageHandler(event);\n              }}\n              ref={ref}\n            />\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default NewPost;\n","import React from 'react';\nimport { ThumbUpIcon } from '@heroicons/react/solid';\n\ninterface Props {\n  likes: any[];\n}\n\nconst Like = ({ likes }: Props) => {\n  return (\n    <>\n      <button>\n        <ThumbUpIcon className=\"h-5 w-5 hover:text-blue-400\" />\n      </button>\n      <div className=\"bg-gray-700 rounded-full h-5 w-5 p-3 flex justify-center items-center\">\n        {likes.length}\n      </div>\n    </>\n  );\n};\n\nexport default Like;\n","import React from 'react';\n\ninterface Props {\n  comments: any[];\n  showHide: (event: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\nconst Comment = ({ comments, showHide }: Props) => {\n  return (\n    <>\n      <button onClick={showHide}>\n        <p className=\"text-gray-400 hover:text-gray-500\">\n          {comments.length} comments\n        </p>\n      </button>\n    </>\n  );\n};\n\nexport default Comment;\n","import React from 'react';\nimport { ThumbUpIcon } from '@heroicons/react/solid';\nimport axios from 'axios';\nimport { useAppDispatch } from '../../redux/hooks';\nimport { getAllPosts } from '../../redux/postsSlice';\n\ninterface Props {\n  postId: string;\n}\n\nconst LikePost = ({ postId }: Props) => {\n  const token = localStorage.getItem('token');\n  const dispatch = useAppDispatch();\n  const likePost = async () => {\n    try {\n      if (token) {\n        await axios.put(`/api/posts/${postId}/like`, null, {\n          headers: { Authorization: token },\n        });\n        dispatch(getAllPosts(token));\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return (\n    <button\n      onClick={likePost}\n      className=\"flex items-center hover:bg-gray-700 hover:text-gray-500 px-20 py-2 rounded\"\n    >\n      <ThumbUpIcon className=\"h-5 w-5\" />\n      like\n    </button>\n  );\n};\n\nexport default LikePost;\n","import React from 'react';\nimport { ChatAlt2Icon } from '@heroicons/react/solid';\n\ninterface Props {\n  showHide: (event: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\nconst CommentPost = ({ showHide }: Props) => {\n  return (\n    <button\n      onClick={showHide}\n      className=\"flex items-center hover:bg-gray-700 hover:text-gray-500 px-20 py-2 rounded\"\n    >\n      <ChatAlt2Icon className=\"h-5 w-5\" />\n      comments\n    </button>\n  );\n};\n\nexport default CommentPost;\n","import React from 'react';\nimport { TrashIcon } from '@heroicons/react/solid';\nimport axios from 'axios';\nimport { useAppDispatch } from '../../redux/hooks';\nimport { updateUser } from '../../redux/userSlice';\n\ninterface Props {\n  postId: string;\n}\n\nconst DeletePost = ({ postId }: Props) => {\n  const token = localStorage.getItem('token');\n  const dispatch = useAppDispatch();\n  const deletePost = async () => {\n    try {\n      if (token) {\n        await axios.delete(`api/posts/${postId}/remove`, {\n          headers: { Authorization: token },\n        });\n        dispatch(updateUser(token));\n      }\n    } catch (error) {}\n  };\n\n  return (\n    <button\n      onClick={deletePost}\n      className=\"flex items-center hover:bg-gray-700 hover:text-gray-500 px-20 py-3 rounded\"\n    >\n      <TrashIcon className=\"h-5 w-5\" />\n      delete\n    </button>\n  );\n};\n\nexport default DeletePost;\n","import { DateTime } from 'ts-luxon';\n\nconst timeFromPostTime = (time: string) => {\n    const start = DateTime.now();\n    const createdAtPost = DateTime.fromISO(time);\n\n    const differenceBetween = start.diff(createdAtPost, 'minutes');\n    let obj = differenceBetween?.toObject();\n\n    if (obj) {\n      let minutes = obj.minutes;\n      if (minutes === undefined) {\n        return null;\n      }\n      if (minutes < 3) {\n        return `Now... `;\n      }\n      if (minutes < 60) {\n        return `${Math.round(minutes)}m `;\n      }\n      if (minutes > 60) {\n        const hours = differenceBetween.shiftTo('hours').toObject();\n        let time = hours.hours ?? undefined;\n\n        if (time) {\n          let round = Math.round(time);\n          if (round <= 24) {\n            return `${round}h`;\n          } else {\n            const days = differenceBetween.shiftTo('days', 'hours').toObject();\n            let time = days.days ?? undefined;\n            let hours = days.hours ?? undefined;\n\n            if (time && hours) {\n              return `${time}d${Math.round(hours)}h`;\n            }\n          }\n        }\n      }\n    }\n    return null;\n  };\n\n  export default timeFromPostTime","import React from 'react';\nimport timeFromPostTime from '../../helper';\nimport { updateUser, User } from '../../redux/userSlice';\nimport { ClockIcon, TrashIcon } from '@heroicons/react/solid';\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport axios from 'axios';\n\ninterface Comment {\n  _id: string;\n  likes: any[];\n  text: string;\n  user: User;\n  createdAt: string;\n}\n\ninterface Props {\n  comment: Comment;\n  postId: string;\n}\n\nconst CommentItem = ({ comment, postId }: Props) => {\n  const user = useAppSelector((state) => state.user.user);\n  const token = localStorage.getItem('token');\n  const dispatch = useAppDispatch();\n\n  const deleteComment = async () => {\n    try {\n      if (token) {\n        await axios.delete(\n          `api/post/${postId}/comment/${comment?._id}/delete`,\n          {\n            headers: { Authorization: token },\n          }\n        );\n        dispatch(updateUser(token));\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center  my-4\">\n      <img\n        className=\"inline object-cover w-7 h-7  mr-2 rounded-full\"\n        src={comment?.user.profile_img_url}\n        alt=\"avatar\"\n      />\n      <div className=\"relative\">\n        <div className=\"bg-gray-600 p-2 rounded-2xl px-5\">\n          <h5 className=\"font-semibold\">{`${comment.user.first_name} ${comment.user.last_name} `}</h5>\n          <p className=\"text-sm\">{comment?.text}</p>\n        </div>\n        <span className=\"absolute right-0 flex items-center text-gray-400\">\n          {timeFromPostTime(comment.createdAt)}\n          <ClockIcon className=\"h-4 w-4\" />\n        </span>\n      </div>\n      {user?._id === comment.user._id ? (\n        <button\n          onClick={deleteComment}\n          className=\"text-white bg-red-700 hover:bg-red-800 p-1  m-2 transform hover:scale-125 transition-all  rounded-full\"\n        >\n          <TrashIcon className=\"h-4 w-4 \" />\n        </button>\n      ) : null}\n    </div>\n  );\n};\n\nexport default CommentItem;\n","import React, { useState } from 'react';\nimport { useAppSelector, useAppDispatch } from '../../redux/hooks';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport axios from 'axios';\nimport { updateUser } from '../../redux/userSlice';\n\ninterface Props {\n  postId: string;\n}\n\nconst NewComment = ({ postId }: Props) => {\n  const [newComment, setNewComment] = useState<string>('');\n  const user = useAppSelector((state) => state.user.user);\n  const dispatch = useAppDispatch();\n  const token = localStorage.getItem('token');\n  const changeHandler = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setNewComment(event.target.value);\n  };\n\n  const submitHandler = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    try {\n      if (token && newComment.length > 0) {\n        await axios.post(\n          `api/post/${postId}/new-comment`,\n          { text: newComment },\n          { headers: { Authorization: token } }\n        );\n        dispatch(updateUser(token));\n        setNewComment('');\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <form onSubmit={(event) => submitHandler(event)}>\n      <div className=\"flex items-center \">\n        <img\n          className=\"inline object-cover w-9 h-9  mr-2 rounded-full\"\n          src={user?.profile_img_url}\n          alt=\"avatar\"\n        />\n\n        <TextareaAutosize\n          placeholder={`Write a comment ...`}\n          className=\"w-full bg-gray-500 rounded-2xl p-1\"\n          onChange={(event) => {\n            changeHandler(event);\n          }}\n          value={newComment}\n          required\n        />\n        <button\n          type=\"submit\"\n          className=\"bg-blue-800 rounded hover:bg-blue-900 px-5\"\n        >\n          Send\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default NewComment;\n","import React from 'react';\nimport CommentItem from './CommentItem';\nimport NewComment from './NewComment';\n\ninterface Props {\n  allComments: any[];\n  postId: string;\n}\n\nconst Comments = ({ allComments, postId }: Props) => {\n  return (\n    <div className=\"flex flex-col border-t-2 border-red-gray-200 mt-2 p-3\">\n      <NewComment postId={postId} />\n      {allComments &&\n        allComments.map((comment) => {\n          return (\n            <CommentItem key={comment._id} comment={comment} postId={postId} />\n          );\n        })}\n    </div>\n  );\n};\n\nexport default Comments;\n","import React, { useEffect, useState } from 'react';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { PencilIcon, XIcon } from '@heroicons/react/solid';\nimport axios from 'axios';\nimport { useAppDispatch } from '../../redux/hooks';\nimport { updateUser } from '../../redux/userSlice';\n\ninterface Props {\n  postId: string;\n  userImg: string;\n  closeModal: () => void;\n}\n\nconst PostEdit = ({ postId, userImg, closeModal }: Props) => {\n  const [text, setText] = useState('');\n  const [loading, setLoading] = useState<boolean>(true);\n  const token = localStorage.getItem('token');\n  const dispatch = useAppDispatch();\n  useEffect(() => {\n    getPost();\n  }, []);\n\n  const getPost = async () => {\n    try {\n      if (token) {\n        const singlePost = await axios.get(`api/posts/${postId}`, {\n          headers: { Authorization: token },\n        });\n\n        const t: string = singlePost.data.post.text;\n        console.log(singlePost.data.post);\n        setText(t);\n        setLoading(false);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const changeHandler = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setText(event.target.value);\n  };\n\n  const submitHandler = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    try {\n      if (token) {\n        const editedPost = await axios.put(\n          `api/posts/${postId}/update`,\n          { text: text },\n          {\n            headers: { Authorization: token },\n          }\n        );\n        if (editedPost) {\n          closeModal();\n          dispatch(updateUser(token));\n        }\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-black h-full p-10 flex items-center justify-center \">\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gray-800 rounded-xl h-full p-10 flex flex-col text-white\">\n      <form onSubmit={submitHandler} className=\"flex-col w-full\">\n        <div className=\"flex justify-between items-center m-3\">\n          <h3 className=\"text-xl font-bold\">Edit post:</h3>\n\n          <button\n            onClick={closeModal}\n            className=\"p-1 bg-red-500 hover:bg-red-600 transform hover:scale-105 rounded-full\"\n          >\n            <XIcon className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div className=\"flex w-full\">\n          <img\n            className=\"inline object-cover w-9 h-9  mr-2 rounded-full\"\n            src={userImg}\n            alt=\"avatar\"\n          />\n          <TextareaAutosize\n            placeholder={`Write a comment ...`}\n            className=\"w-full bg-gray-500 rounded-2xl p-1\"\n            onChange={(event) => {\n              changeHandler(event);\n            }}\n            value={text}\n            required\n          />\n        </div>\n        <div className=\"flex justify-end m-2\">\n          <button\n            type=\"submit\"\n            className=\"bg-blue-700 hover:bg-blue-800 transform hover:scale-105 flex items-center justify-center rounded p-2\"\n          >\n            <p>Edit post</p>\n            <PencilIcon className=\"h-5 w-5\" />\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PostEdit;\n","import React, { useState } from 'react';\nimport { useAppSelector } from '../../redux/hooks';\nimport { ClockIcon, DotsVerticalIcon } from '@heroicons/react/solid';\nimport Like from './Like';\nimport Comment from './Comment';\nimport LikePost from './LikePost';\nimport CommentPost from './CommentPost';\nimport DeletePost from './DeletePost';\nimport Comments from './Comments';\nimport timeFromPostTime from '../../helper';\nimport Modal from 'react-modal';\nimport PostEdit from './PostEdit';\n\nModal.setAppElement('#root');\n\ninterface Props {\n  post: any;\n}\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    padding: 0,\n    width: '60%',\n    height: '65%',\n    borderRadius: '0.75rem',\n  },\n};\n\nconst Post = ({ post }: Props) => {\n  const [showComments, setShowComments] = useState<boolean>(false);\n  const [modalIsOpen, setIsOpen] = useState<boolean>(false);\n  const img = post.user.profile_img_url;\n  const user = useAppSelector((state) => state.user.user);\n\n  const showHide = () => {\n    setShowComments(!showComments);\n  };\n\n  const openModal = () => {\n    setIsOpen(true);\n  };\n\n  const closeModal = () => {\n    setIsOpen(false);\n  };\n\n  return (\n    <div className=\"bg-gray-800 my-4 p-2 rounded\">\n      <div className=\"flex justify-between items-center\">\n        <div className=\"flex items-center\">\n          <img\n            className=\"inline object-cover w-9 h-9  mr-2 rounded-full\"\n            src={post?.user.profile_img_url}\n            alt=\"avatar\"\n          />\n          <div>\n            <p className=\"font-bold text-base\">{post.user.first_name}</p>\n            <p className=\"text-sm text-gray-100 flex items-center\">\n              {timeFromPostTime(post.createdAt)}\n              <ClockIcon className=\"h-4 w-4\" />\n            </p>\n          </div>\n        </div>\n        <div>\n          <button\n            onClick={openModal}\n            className=\"flex items-center font-semibold text-gray-400 hover:text-gray-500\"\n          >\n            Edit\n            <DotsVerticalIcon className=\"h-5 w-5\" />\n          </button>\n        </div>\n      </div>\n      <div className=\"mt-2 p-2 text-justify\">{post.text}</div>\n      {post.image_url && (\n        <div className=\"flex justify-center\">\n          <img\n            className=\"rounded-lg border-black border-2 h-96 w-96\"\n            src={post.image_url}\n            alt=\"post\"\n          ></img>\n        </div>\n      )}\n      <div className=\"flex justify-between items-center \">\n        <div className=\"mt-2 p-2 flex items-center \">\n          <Like likes={post.likes} />\n        </div>\n        <Comment showHide={showHide} comments={post.comments} />\n      </div>\n      <div className=\"flex justify-evenly p-2  text-gray-400 border-t-2 border-red-gray-200\">\n        <LikePost postId={post._id} />\n        <CommentPost showHide={showHide} />\n        {user && user._id === post.user._id ? (\n          <DeletePost postId={post._id} />\n        ) : null}\n      </div>\n      {showComments && (\n        <Comments postId={post._id} allComments={post?.comments} />\n      )}\n\n      <Modal\n        isOpen={modalIsOpen}\n        onRequestClose={closeModal}\n        style={customStyles}\n        contentLabel={'Example modal'}\n      >\n        <PostEdit\n          postId={post._id}\n          userImg={post?.user.profile_img_url}\n          closeModal={closeModal}\n        />\n      </Modal>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from 'react';\nimport { useAppSelector } from '../../redux/hooks';\nimport Post from './Post';\nimport Loader from 'react-loader-spinner';\n\ninterface Props {}\n\nconst PostList = (props: Props) => {\n  const friendPosts = useAppSelector((state) => state.allPosts.allPosts);\n  const loading = useAppSelector((state) => state.allPosts.isFetching);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center\">\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {friendPosts &&\n        friendPosts.map((post) => {\n          return <Post key={post._id} post={post} />;\n        })}\n    </>\n  );\n};\n\nexport default PostList;\n","import React from 'react';\nimport NewPost from './NewPost';\nimport PostList from './PostList';\n\ninterface Props {}\n\nconst PostMain = (props: Props) => {\n  return (\n    <div className=\"overflow-scroll h-full\">\n      <NewPost />\n      <PostList />\n    </div>\n  );\n};\n\nexport default PostMain;\n","import React from 'react';\nimport ReplyRequest from '../otheruser/ReplyRequest';\nimport { User } from '../../redux/userSlice';\n\ninterface Props {\n  request?: User;\n}\n\nconst PendingRequest = ({ request }: Props) => {\n  console.log(request);\n  return (\n    <div className=\"bg-gray-900 rounded flex justify-between mt-2 p-2\">\n      <div className=\"flex items-center\">\n        <img\n          className=\"inline object-cover w-8 h-8 rounded-full mr-2\"\n          src={request?.profile_img_url}\n          alt=\"avatar\"\n        />\n        <p className=\"text-base\">{`${request?.first_name} ${request?.last_name} `}</p>\n      </div>\n      <div>\n        <ReplyRequest secondUser_id={request?._id} />\n      </div>\n    </div>\n  );\n};\n\nexport default PendingRequest;\n","import React from 'react';\nimport { useAppSelector } from '../../redux/hooks';\nimport PendingRequest from './PendingRequest';\nimport Loader from 'react-loader-spinner';\n\ninterface Props {}\n\nconst PendingFriend = (props: Props) => {\n  const friendRequests = useAppSelector(\n    (state) => state.user.user?.friend_requests\n  );\n  const loading = useAppSelector((state) => state.user.isFetching);\n  return (\n    <div className=\"bg-gray-800 bg-opacity-90 m-2 rounded h-2/5 p-2 text-white shadow overflow-auto\">\n      <h3 className=\"font-bold mb-1 text-lg \">Pending friend requests:</h3>\n      {loading && (\n        <div className=\"flex justify-center\">\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\n        </div>\n      )}\n      {!loading &&\n        friendRequests &&\n        friendRequests.map((request) => {\n          return <PendingRequest key={request._id} request={request} />;\n        })}\n      {!loading && !friendRequests?.length && (\n        <p className=\"text-red-500\">You have no friends requests!</p>\n      )}\n    </div>\n  );\n};\n\nexport default PendingFriend;\n","import React from 'react';\nimport { User } from '../../redux/userSlice';\nimport CancelRequest from '../otheruser/CancelRequest';\n\ninterface Props {\n  sendRequest: User;\n}\n\nconst Send = ({ sendRequest }: Props) => {\n  return (\n    <div className=\"bg-gray-900 rounded flex justify-between mt-2 p-2\">\n      <div className=\"flex items-center\">\n        <img\n          className=\"inline object-cover w-8 h-8 rounded-full mr-2\"\n          src={sendRequest?.profile_img_url}\n          alt=\"avatar\"\n        />\n        <p className=\"text-base\">{`${sendRequest?.first_name} ${sendRequest?.last_name} `}</p>\n      </div>\n      <div>\n        <CancelRequest secondUser_id={sendRequest?._id} />\n      </div>\n    </div>\n  );\n};\n\nexport default Send;\n","import React from 'react';\nimport { useAppSelector } from '../../redux/hooks';\nimport Send from './Send';\n\ninterface Props {}\n\nconst SendFriend = (props: Props) => {\n  const sendFriendRequests = useAppSelector(\n    (state) => state.user.user?.friend_send\n  );\n\n  return (\n    <div className=\"bg-gray-800 bg-opacity-90 m-2 rounded h-2/5 p-2 text-white shadow overflow-auto\">\n      <h3 className=\"font-bold mb-1 text-lg \">Sent friend requests:</h3>\n\n      {sendFriendRequests &&\n        sendFriendRequests.map((sendRequest) => {\n          return <Send key={sendRequest._id} sendRequest={sendRequest} />;\n        })}\n      {!sendFriendRequests?.length && (\n        <p className=\"text-red-500\">You have no sent friend requests!</p>\n      )}\n    </div>\n  );\n};\n\nexport default SendFriend;\n","import React from 'react';\nimport AllUsers from './AllUsers';\nimport FriendList from './friends/FriendList';\nimport PostMain from './main/PostMain';\nimport PendingFriend from './pendingRequests/PendingFriend';\nimport SendFriend from './sendRequests/SendFriend';\n\ninterface Props {}\n\nconst Odinbook = (props: Props) => {\n  return (\n    <div className=\"w-full h-full flex  text-white\">\n      <div className=\" w-1/4\">\n        <AllUsers />\n        <FriendList />\n      </div>\n      <div className=\"w-2/4\">\n        <PostMain />\n      </div>\n      <div className=\"w-1/4\">\n        <PendingFriend />\n        <SendFriend />\n      </div>\n    </div>\n  );\n};\n\nexport default Odinbook;\n","import React from 'react';\nimport { Route, Redirect, RouteProps } from 'react-router-dom';\n\ninterface ProtectedRouteProps extends RouteProps {\n  // tslint:disable-next-line:no-any\n  component: any;\n  loggedIn: boolean;\n}\n\nconst ProtectedRoute = (props: ProtectedRouteProps) => {\n  const { component: Component, loggedIn, ...rest } = props;\n\n  return (\n    <Route\n      {...rest}\n      render={(routeProps) =>\n        loggedIn ? (\n          <Component {...routeProps} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/',\n              state: { from: routeProps.location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { useState, useRef } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../redux/hooks';\nimport axios from 'axios';\n\nimport { updateUser } from '../../redux/userSlice';\n\ninterface Props {}\n\nconst ProfileMain = (props: Props) => {\n  const user = useAppSelector((state) => state.user.user);\n  const [profileImage, setProfileImage] = useState<any>('');\n  const token = localStorage.getItem('token');\n  const ref = useRef<HTMLInputElement | null>(null);\n  const dispatch = useAppDispatch();\n\n  const onChangeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (!event.target.files) return;\n    console.log(event.target.files);\n    setProfileImage(event.target.files[0]);\n  };\n\n  const submitHandler = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (token) {\n      const data = new FormData();\n      data.append('file', profileImage);\n      console.log(data);\n      await axios.post('api/user/updateProfilePicture', data, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: token,\n        },\n      });\n      if (ref.current) {\n        ref.current.value = '';\n      }\n      dispatch(updateUser(token));\n    }\n  };\n  return (\n    <div className=\"flex justify-center bg-gray-800 rounded\">\n      <div className=\"flex flex-col items-center p-5\">\n        <img\n          className=\"inline object-cover w-40 h-40 mr-2 rounded-full border-4 border-black\"\n          src={user?.profile_img_url}\n          alt=\"avatar\"\n        />\n        <h2 className=\"font-bold text-3xl  \">{`${user?.first_name} ${user?.last_name}`}</h2>\n        <form\n          onSubmit={(e) => {\n            submitHandler(e);\n          }}\n        >\n          <div className=\"flex flex-col border-2 bg-gray-900 p-4 gap-3 rounded\">\n            <div className=\"flex justify-center flex-col items-center\">\n              <label className=\"font-bold text-xl\">\n                If you want to change profile picture click bellow\n              </label>\n              <input\n                type=\"file\"\n                name=\"file\"\n                onChange={(event) => {\n                  onChangeHandler(event);\n                }}\n                ref={ref}\n              />\n            </div>\n\n            <button type=\"submit\" className=\"bg-green-500 rounded  \">\n              Upload file\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileMain;\n","import React from 'react';\nimport { useAppSelector } from '../../redux/hooks';\nimport Post from '../main/Post';\nimport ProfileMain from './ProfileMain';\n\ninterface Props {}\n\nconst Profile = (props: Props) => {\n  const user = useAppSelector((state) => state.user.user);\n\n  return (\n    <div className=\"flex items-center flex-col mt-5\">\n      <div className=\"w-1/2\">\n        <ProfileMain />\n      </div>\n      {user &&\n        user?.posts.map((post) => {\n          console.log(post);\n          return <Post key={post._id} post={post} />;\n        })}\n\n      {!user?.posts.length && <p>You have no posts!</p>}\n    </div>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect } from 'react';\nimport Header from './components/Header';\nimport Login from './components/Login';\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\nimport Odinbook from './components/Odinbook';\nimport { useAppSelector, useAppDispatch } from './redux/hooks';\nimport ProtectedRoute from './hoc/protectedRoute';\nimport { loginUser } from './redux/userSlice';\nimport Modal from 'react-modal';\nimport Profile from './components/profile/Profile';\n\nModal.setAppElement('#root');\n\nfunction App() {\n  const loggedIn = useAppSelector((state) => state.user.loggedIn);\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    const access_token = localStorage.getItem('access_token');\n    if (access_token) {\n      dispatch(loginUser(access_token));\n    }\n  }, []);\n\n  return (\n    <Router>\n      <div className=\" h-full text-white bg-gray-700\">\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Login}></Route>\n          <ProtectedRoute\n            exact\n            component={Odinbook}\n            path=\"/odinbook\"\n            loggedIn={loggedIn}\n          />\n          <ProtectedRoute\n            component={Profile}\n            path=\"/profile\"\n            loggedIn={loggedIn}\n          />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}","import { configureStore } from '@reduxjs/toolkit';\nimport userReducer from './userSlice'\nimport allUserReducer from './allUsersSlice'\nimport allPostsReducer from './postsSlice'\n\nexport const store = configureStore({\n  reducer: {\n    user: userReducer,\n    allUsers: allUserReducer,\n    allPosts: allPostsReducer\n  },\n});\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { store } from './redux/store';\nimport { Provider } from 'react-redux';\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://warm-falls-67590.herokuapp.com/';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}