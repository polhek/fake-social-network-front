(this["webpackJsonpfacebook-front"]=this["webpackJsonpfacebook-front"]||[]).push([[0],{102:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r(20),a=r.n(s),c=(r(48),r(8)),l=r(23),o=function(){return Object(l.b)()},i=l.c,u=r(5),d=r(2),j=r.n(d),b=r(10),f=r(4),x=r(13),h=r(3),m=r.n(h),p=Object(x.b)("user/loginLocal",function(){var e=Object(f.a)(j.a.mark((function e(t,r){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://warm-falls-67590.herokuapp.com/api/user/login",{email:t.email,password:t.password});case 3:if(200!==(n=e.sent).status){e.next=9;break}return localStorage.setItem("token",n.data.token),e.abrupt("return",Object(b.a)(Object(b.a)({},n.data),{},{loggedIn:!0,user:n.data.user}));case 9:return e.abrupt("return",r.rejectWithValue(n.data));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("Error",e.t0.response.data),e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()),v=Object(x.b)("user/login",function(){var e=Object(f.a)(j.a.mark((function e(t,r){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://warm-falls-67590.herokuapp.com/api/user/oauth/facebook",{access_token:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}return localStorage.setItem("token",n.data.token),e.abrupt("return",Object(b.a)(Object(b.a)({},n.data),{},{loggedIn:!0,user:n.data.user}));case 9:return e.abrupt("return",r.rejectWithValue(n.data));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("Error",e.t0.response.data),e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()),g=Object(x.b)("user/update",function(){var e=Object(f.a)(j.a.mark((function e(t,r){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://warm-falls-67590.herokuapp.com/api/user/updateUser",{headers:{Authorization:t}});case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",Object(b.a)(Object(b.a)({},n.data),{},{user:n.data.user}));case 8:return e.abrupt("return",r.rejectWithValue(n.data));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log("Error",e.t0.response.data),e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()),O={loggedIn:!1,user:void 0,isFetching:!1,isSuccess:!1,isError:!1},w=Object(x.c)({name:"user",initialState:O,reducers:{logOut:function(e){return localStorage.clear(),O}},extraReducers:function(e){e.addCase(v.fulfilled,(function(e,t){var r=t.payload;return e.user=r.user,e.loggedIn=r.loggedIn,e.isFetching=!1,e.isSuccess=!0,e})),e.addCase(v.rejected,(function(e,t){t.payload;e.isFetching=!1,e.isError=!0})),e.addCase(v.pending,(function(e){e.isFetching=!0})),e.addCase(g.fulfilled,(function(e,t){var r=t.payload;e.user=r.user})),e.addCase(p.fulfilled,(function(e,t){var r=t.payload;return e.user=r.user,e.loggedIn=r.loggedIn,e.isFetching=!1,e.isSuccess=!0,e})),e.addCase(p.rejected,(function(e,t){t.payload;e.isFetching=!1,e.isError=!0})),e.addCase(p.pending,(function(e){e.isFetching=!0}))}}),N=w.actions.logOut,y=w.reducer,k=r(18),_=r(1),S=function(e){var t=e.notification,r=o(),n=t.unread,s=localStorage.getItem("token"),a=function(){s&&(m.a.delete("api/notification/".concat(t._id,"/read"),{headers:{Authorization:s}}),r(g(s)))},c=function(){return Object(_.jsxs)("div",{onClick:a,className:"bg-gray-600 rounded w-full p-2 mx-2 my-1",children:[t.text,Object(_.jsx)("span",{className:"p-1 bg-blue-800 rounded mx-2",children:"Read"})]})},l=function(){return Object(_.jsxs)("div",{onClick:a,className:"bg-gray-700 rounded w-full p-2 mx-2 my-1",children:[t.text,Object(_.jsx)("span",{className:"p-1 bg-red-800 rounded mx-2",children:"Unread"})]})};return Object(_.jsx)(_.Fragment,{children:n?l():c()})},I=function(e){var t=i((function(e){var t;return null===(t=e.user.user)||void 0===t?void 0:t.notifications}));return Object(_.jsx)("div",{className:"absolute bg-gray-500 w-96 h-96 overflow-auto rounded flex flex-col p-1 items-center",children:t&&(null===t||void 0===t?void 0:t.map((function(e){return Object(_.jsx)(S,{notification:e},e._id)})))})},F=function(e){var t=o(),r=i((function(e){return e.user.loggedIn})),s=i((function(e){return e.user.user})),a=Object(n.useState)(!1),l=Object(c.a)(a,2),d=l[0],j=l[1];return Object(_.jsxs)("header",{className:"flex flex-row justify-between items-center px-7 py-3 bg-gray-800",children:[Object(_.jsx)(k.b,{to:"/odinbook",children:Object(_.jsxs)("h1",{className:"font-bold text-4xl",children:["The ",Object(_.jsx)("span",{className:"text-red-600",children:"Odin"}),"book"]})}),Object(_.jsxs)("div",{className:"flex items-center justify-center space-x-5",children:[!r&&Object(_.jsx)("h2",{className:"font-bold text-xl text-red-600 ",children:"No user is logged in!"}),r&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"relative",children:[Object(_.jsx)("div",{children:Object(_.jsxs)("button",{onClick:function(){j(!d)},className:"flex items-center",children:[Object(_.jsx)(u.a,{className:"h-7 w-7 text-red-700"}),function(){var e=null===s||void 0===s?void 0:s.notifications,t=null===e||void 0===e?void 0:e.filter((function(e){return!1!==e.unread}));if(t)return t.length}()]})}),d&&Object(_.jsx)(I,{})]}),Object(_.jsx)(k.b,{to:"/profile",children:Object(_.jsx)("span",{className:"font-semibold text-xl px-4 py-2 hov border-2 hover:bg-red-500 transform hover:scale-105 border-red-500 ",children:"Profile"})}),Object(_.jsxs)("div",{className:"flex items-center",children:[Object(_.jsx)("img",{className:"inline object-cover w-12 h-12 mr-2 rounded-full",src:null===s||void 0===s?void 0:s.profile_img_url,alt:"avatar"}),Object(_.jsx)("h2",{className:"font-bold text-xl ",children:"".concat(null===s||void 0===s?void 0:s.first_name," ").concat(null===s||void 0===s?void 0:s.last_name)})]}),Object(_.jsxs)("button",{onClick:function(){t(N())},className:"bg-red-600 hover:bg-red-700 p-1 rounded flex items-center justify-center ml-2",children:[Object(_.jsx)(u.f,{className:"text-white h-5 w-5 mr-2"}),Object(_.jsx)("span",{children:"Log out"})]})]})]})]})},C=r(42),E=r.n(C),U=r(9),q=function(e){var t=Object(n.useState)(""),r=Object(c.a)(t,2),s=r[0],a=r[1],l=Object(n.useState)(""),u=Object(c.a)(l,2),d=u[0],b=u[1],x=o(),h=i((function(e){return e.user.loggedIn})),m=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.accessToken,localStorage.setItem("access_token",r),x(v(r));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),x(p({email:s,password:d}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h?Object(_.jsx)(U.a,{to:"/odinbook"}):Object(_.jsxs)("div",{className:"flex justify-center ",children:[Object(_.jsxs)("div",{className:"bg-gray-800 mt-32 p-32 mx-20 flex justify-center flex-col items-center text-lg rounded-xl shadow w-1/2",children:[Object(_.jsx)("p",{children:"To login to the Odinbook, click the button bellow."}),Object(_.jsx)(E.a,{appId:"465879341344663",autoLoad:!1,fields:"name,email,picture",callback:m,cssClass:"bg-blue-600 rounded p-3 hover:bg-blue-800 mt-4 "}),Object(_.jsx)("span",{className:"text-red-500 font-semibold",children:"This is disabled, as for this to work facebook app needs to be in production or you need to be beta tester."})]}),Object(_.jsxs)("div",{className:"w-1/2 mx-20 mt-32 bg-gray-800 rounded p-6 ",children:[Object(_.jsx)("p",{children:"You already registered? Log in bellow!"}),Object(_.jsx)("h2",{className:"font-bold text-2xl my-5",children:"Login"}),Object(_.jsx)("form",{onSubmit:g,children:Object(_.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("label",{htmlFor:"email",children:Object(_.jsx)("b",{children:"Email"})}),Object(_.jsx)("input",{className:"p-2 rounded text-black",type:"email",placeholder:"Enter Email",name:"email",value:s,onChange:function(e){a(e.target.value)},required:!0})]}),Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("label",{htmlFor:"password",children:Object(_.jsx)("b",{children:"Password"})}),Object(_.jsx)("input",{className:"p-2 rounded text-black",type:"password",placeholder:"Enter Password",name:"password",value:d,onChange:function(e){b(e.target.value)},required:!0})]}),Object(_.jsxs)("div",{className:"w-full mt-2",children:[Object(_.jsx)("button",{type:"submit",className:"w-full bg-blue-500 rounded p-2",children:"Log in"})," "]})]})}),Object(_.jsxs)("div",{className:"pt-5",children:[Object(_.jsx)("p",{children:"If not registered? Click bellow!"}),Object(_.jsx)(k.b,{to:"/register",children:Object(_.jsx)("button",{className:"w-full bg-red-500 rounded p-2",children:"Register"})})]})]})]})},A=function(e){var t=e.secondUser_id,r=(e.loggedUser_id,o()),n=function(){var e=Object(f.a)(j.a.mark((function e(){var n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=localStorage.getItem("token"))){e.next=8;break}return e.next=5,m.a.post("/api/user/".concat(null===t||void 0===t?void 0:t.toString(),"/send-request"),null,{headers:{Authorization:n}});case 5:s=e.sent,r(g(n)),console.log(s);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("button",{onClick:n,className:"bg-green-600 hover:bg-green-700 p-1 rounded flex items-center justify-center ml-2",children:[Object(_.jsx)(u.g,{className:"text-white h-5 w-5"}),Object(_.jsx)("span",{children:"Send friend request"})]})})},z=function(e){var t=e.secondUser_id,r=o(),n=i((function(e){return e.user.loggedIn})),s=function(){var e=Object(f.a)(j.a.mark((function e(){var s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=localStorage.getItem("token"))||!n){e.next=8;break}return e.next=5,m.a.delete("/api/user/".concat(t,"/unsend-friend"),{headers:{Authorization:s}});case 5:a=e.sent,r(g(s)),console.log("cancel",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("button",{onClick:s,className:"bg-red-600 hover:bg-red-700 p-1 rounded flex items-center justify-center ml-2",children:[Object(_.jsx)(u.k,{className:"text-white h-5 w-5"}),Object(_.jsx)("span",{children:"Unsend Request"})]})})},P=function(e){var t=e.secondUser_id,r=o(),n=i((function(e){return e.user.loggedIn})),s=function(){var e=Object(f.a)(j.a.mark((function e(){var s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=localStorage.getItem("token"))||!n){e.next=8;break}return e.next=5,m.a.delete("/api/user/".concat(t,"/remove-friend"),{headers:{Authorization:s}});case 5:a=e.sent,r(g(s)),console.log("remove",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("button",{onClick:s,className:"bg-red-600 hover:bg-red-700 p-1 rounded flex items-center justify-center ml-2",children:[Object(_.jsx)(u.j,{className:"text-white h-5 w-5"}),Object(_.jsx)("span",{children:"Remove friend"})]})})},R=function(e){var t=e.secondUser_id,r=o(),n=i((function(e){return e.user.loggedIn})),s=function(){var e=Object(f.a)(j.a.mark((function e(){var s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=localStorage.getItem("token"))||!n){e.next=8;break}return e.next=5,m.a.delete("/api/user/".concat(t,"/cancel-friend"),{headers:{Authorization:s}});case 5:a=e.sent,console.log("cancel",a),r(g(s));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(f.a)(j.a.mark((function e(){var s,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s=localStorage.getItem("token"))||!n){e.next=8;break}return e.next=5,m.a.put("/api/user/".concat(t,"/accept-friend"),null,{headers:{Authorization:s}});case 5:a=e.sent,r(g(s)),console.log("cancel",a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("button",{onClick:a,className:"bg-blue-600 hover:bg-blue-700 p-1 rounded flex items-center justify-center ml-2",children:[Object(_.jsx)(u.c,{className:"text-white h-5 w-5"}),Object(_.jsx)("span",{children:"Accept"})]}),Object(_.jsxs)("button",{onClick:s,className:"bg-red-600 hover:bg-red-700 p-1 rounded flex items-center justify-center ml-2",children:[Object(_.jsx)(u.j,{className:"text-white h-5 w-5"}),Object(_.jsx)("span",{children:"Cancel"})]})]})},D=function(e){var t=e.user,r=i((function(e){return e.user.user})),n=null===r||void 0===r?void 0:r._id;return Object(_.jsxs)("div",{className:"bg-gray-900 rounded flex justify-between mt-2 p-2",children:[Object(_.jsxs)("div",{className:"flex items-center",children:[Object(_.jsx)("img",{className:"inline object-cover w-8 h-8 rounded-full mr-2",src:null===t||void 0===t?void 0:t.profile_img_url,alt:"avatar"}),Object(_.jsx)("p",{className:"text-base",children:"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name," ")})]}),Object(_.jsxs)("div",{children:[(null===t||void 0===t?void 0:t.friends.includes(n))&&Object(_.jsx)(P,{secondUser_id:null===t||void 0===t?void 0:t._id}),!(null===t||void 0===t?void 0:t.friend_requests.includes(n))&&!(null===t||void 0===t?void 0:t.friend_send.includes(n))&&!(null===t||void 0===t?void 0:t.friends.includes(n))&&Object(_.jsx)(A,{secondUser_id:null===t||void 0===t?void 0:t._id,loggedUser_id:null===r||void 0===r?void 0:r._id}),(null===t||void 0===t?void 0:t.friend_send.includes(n))&&Object(_.jsx)(R,{secondUser_id:null===t||void 0===t?void 0:t._id}),(null===t||void 0===t?void 0:t.friend_requests.includes(n))&&Object(_.jsx)(z,{secondUser_id:null===t||void 0===t?void 0:t._id})]})]})},T=Object(x.b)("all/users",function(){var e=Object(f.a)(j.a.mark((function e(t,r){var n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://warm-falls-67590.herokuapp.com/api/user/allUsers",{headers:{Authorization:t}});case 3:if(200!==(n=e.sent).status){e.next=9;break}return s=n.data.allUsers,e.abrupt("return",Object(b.a)(Object(b.a)({},n.data),{},{allUsers:s}));case 9:return e.abrupt("return",r.rejectWithValue(n.data));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("Error",e.t0.response.data),e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()),W={allUsers:void 0,isFetching:!1,isSuccess:!1,isError:!1},L=Object(x.c)({name:"allUsers",initialState:W,reducers:{},extraReducers:function(e){e.addCase(T.fulfilled,(function(e,t){var r=t.payload;return e.allUsers=r.allUsers,e.isFetching=!1,e.isSuccess=!0,e})),e.addCase(T.rejected,(function(e,t){t.payload;e.isFetching=!1,e.isError=!0})),e.addCase(T.pending,(function(e){e.isFetching=!0}))}}).reducer,V=Object(x.b)("all/posts",function(){var e=Object(f.a)(j.a.mark((function e(t,r){var n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://warm-falls-67590.herokuapp.com/api/posts/all",{headers:{Authorization:t}});case 3:if(200!==(n=e.sent).status){e.next=9;break}return s=n.data.posts,e.abrupt("return",Object(b.a)(Object(b.a)({},n.data),{},{posts:s}));case 9:return e.abrupt("return",r.rejectWithValue(n.data));case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),console.log("Error",e.t0.response.data),e.abrupt("return",r.rejectWithValue(e.t0.response.data));case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()),B={allPosts:void 0,isFetching:!1,isSuccess:!1,isError:!1},M=Object(x.c)({name:"allPosts",initialState:B,reducers:{},extraReducers:function(e){e.addCase(V.fulfilled,(function(e,t){var r=t.payload;return e.allPosts=r.posts,e.isFetching=!1,e.isSuccess=!0,e})),e.addCase(V.rejected,(function(e,t){t.payload;e.isFetching=!1,e.isError=!0})),e.addCase(V.pending,(function(e){e.isFetching=!0}))}}).reducer,Y=r(17),H=r.n(Y),J=function(e){var t=o(),r=i((function(e){return e.user.user})),s=i((function(e){return e.user.loggedIn})),a=i((function(e){return e.allUsers.allUsers})),c=localStorage.getItem("token"),l=i((function(e){return e.allUsers.isFetching}));return Object(n.useEffect)((function(){s&&c&&(t(T(c)),t(V(c)))}),[r]),Object(_.jsxs)("div",{className:"bg-gray-800 bg-opacity-90 m-2 rounded h-2/5 p-2 text-white shadow overflow-auto",children:[Object(_.jsx)("h3",{className:"font-bold mb-1 text-lg ",children:"All users:"}),l&&Object(_.jsx)("div",{className:"flex justify-center",children:Object(_.jsx)(H.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})}),!l&&a&&a.map((function(e){return Object(_.jsx)(D,{user:e},e._id)}))]})},$=function(e){var t=e.friend;return Object(_.jsxs)("div",{className:"bg-gray-900 rounded flex justify-between mt-2 p-2",children:[Object(_.jsxs)("div",{className:"flex items-center",children:[Object(_.jsx)("img",{className:"inline object-cover w-8 h-8 rounded-full mr-2",src:null===t||void 0===t?void 0:t.profile_img_url,alt:"avatar"}),Object(_.jsx)("p",{className:"text-base",children:"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name," ")})]}),Object(_.jsx)("div",{children:Object(_.jsx)(P,{secondUser_id:null===t||void 0===t?void 0:t._id})})]})},G=function(e){var t=i((function(e){var t;return null===(t=e.user.user)||void 0===t?void 0:t.friends})),r=i((function(e){return e.user.isFetching}));return Object(_.jsxs)("div",{className:"bg-gray-800 bg-opacity-90 m-2 rounded h-2/5 p-2 text-white shadow overflow-scroll",children:[Object(_.jsx)("h3",{className:"font-bold mb-1 text-lg ",children:"Friends:"}),r&&Object(_.jsx)("div",{className:"flex justify-center",children:Object(_.jsx)(H.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})}),!r&&t&&t.map((function(e){return Object(_.jsx)($,{friend:e},e._id)})),!(null===t||void 0===t?void 0:t.length)&&Object(_.jsx)("p",{className:"text-red-500",children:"You have no friends!"})]})},K=r(19),Q=function(e){var t=Object(n.useState)(""),r=Object(c.a)(t,2),s=r[0],a=r[1],l=localStorage.getItem("token"),d=Object(n.useState)(null),b=Object(c.a)(d,2),x=b[0],h=b[1],p=Object(n.useRef)(null),v=o(),O=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!(l&&s.length>0)||x){e.next=8;break}return console.log("samo text"),e.next=6,m.a.post("api/posts/newPost",{text:s},{headers:{Authorization:l}});case 6:v(g(l)),a("");case 8:if(!(l&&x&&s.length>0)){e.next=19;break}return console.log("file"),(r=new FormData).append("text",s),r.append("file",x),e.next=15,m.a.post("api/posts/newPost",r,{headers:{"Content-Type":"multipart/form-data",Authorization:l}});case 15:a(""),h(null),p.current&&(p.current.value=""),v(g(l));case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}(),w=i((function(e){return e.user.user}));return Object(_.jsx)("div",{className:"bg-gray-800 m-2 rounded p-2 flex flex-col ",children:Object(_.jsxs)("form",{onSubmit:function(e){O(e)},children:[Object(_.jsxs)("div",{className:"flex",children:[Object(_.jsx)("img",{className:"inline object-cover w-9 h-9  mr-2 rounded-full",src:null===w||void 0===w?void 0:w.profile_img_url,alt:"avatar"}),Object(_.jsx)(K.a,{placeholder:"What are you thinking about, ".concat(null===w||void 0===w?void 0:w.first_name),className:"w-full bg-gray-500 rounded-2xl p-1",onChange:function(e){!function(e){a(e.target.value)}(e)},value:s,required:!0})]}),Object(_.jsxs)("div",{className:"pt-3 flex justify-between items-center",children:[Object(_.jsxs)("button",{type:"submit",className:"bg-green-700 p-2 flex rounded items-center justify-items-center",children:[Object(_.jsx)(u.g,{className:"h-5 w-5 mr-2"}),Object(_.jsx)("span",{children:"Send Post"})]}),Object(_.jsx)("div",{children:Object(_.jsx)("input",{type:"file",name:"file",id:"file",onChange:function(e){!function(e){e.target.files&&h(e.target.files[0])}(e)},ref:p})})]})]})})},X=function(e){var t=e.likes;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("button",{children:Object(_.jsx)(u.i,{className:"h-5 w-5 hover:text-blue-400"})}),Object(_.jsx)("div",{className:"bg-gray-700 rounded-full h-5 w-5 p-3 flex justify-center items-center",children:t.length})]})},Z=function(e){var t=e.comments,r=e.showHide;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("button",{onClick:r,children:Object(_.jsxs)("p",{className:"text-gray-400 hover:text-gray-500",children:[t.length," comments"]})})})},ee=function(e){var t=e.postId,r=localStorage.getItem("token"),n=o(),s=function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=5;break}return e.next=4,m.a.put("/api/posts/".concat(t,"/like"),null,{headers:{Authorization:r}});case 4:n(g(r));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("button",{onClick:s,className:"flex items-center hover:bg-gray-700 hover:text-gray-500 px-20 py-2 rounded",children:[Object(_.jsx)(u.i,{className:"h-5 w-5"}),"like"]})},te=function(e){var t=e.showHide;return Object(_.jsxs)("button",{onClick:t,className:"flex items-center hover:bg-gray-700 hover:text-gray-500 px-20 py-2 rounded",children:[Object(_.jsx)(u.b,{className:"h-5 w-5"}),"comments"]})},re=function(e){var t=e.postId,r=localStorage.getItem("token"),n=o(),s=function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=5;break}return e.next=4,m.a.delete("api/posts/".concat(t,"/remove"),{headers:{Authorization:r}});case 4:n(g(r));case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("button",{onClick:s,className:"flex items-center hover:bg-gray-700 hover:text-gray-500 px-20 py-3 rounded",children:[Object(_.jsx)(u.j,{className:"h-5 w-5"}),"delete"]})},ne=r(30),se=function(e){var t=ne.DateTime.now(),r=ne.DateTime.fromISO(e),n=t.diff(r,"minutes"),s=null===n||void 0===n?void 0:n.toObject();if(s){var a=s.minutes;if(void 0===a)return null;if(a<3)return"Now... ";if(a<60)return"".concat(Math.round(a),"m ");if(a>60){var c,l=null!==(c=n.shiftTo("hours").toObject().hours)&&void 0!==c?c:void 0;if(l){var o=Math.round(l);if(o<=24)return"".concat(o,"h");var i,u,d=n.shiftTo("days","hours").toObject(),j=null!==(i=d.days)&&void 0!==i?i:void 0,b=null!==(u=d.hours)&&void 0!==u?u:void 0;if(j&&b)return"".concat(j,"d").concat(Math.round(b),"h")}}}return null},ae=function(e){var t=e.comment,r=e.postId,n=i((function(e){return e.user.user})),s=localStorage.getItem("token"),a=o(),c=function(){var e=Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=5;break}return e.next=4,m.a.delete("api/post/".concat(r,"/comment/").concat(null===t||void 0===t?void 0:t._id,"/delete"),{headers:{Authorization:s}});case 4:a(g(s));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"flex items-center  my-4",children:[Object(_.jsx)("img",{className:"inline object-cover w-7 h-7  mr-2 rounded-full",src:null===t||void 0===t?void 0:t.user.profile_img_url,alt:"avatar"}),Object(_.jsxs)("div",{className:"relative",children:[Object(_.jsxs)("div",{className:"bg-gray-600 p-2 rounded-2xl px-5",children:[Object(_.jsx)("h5",{className:"font-semibold",children:"".concat(t.user.first_name," ").concat(t.user.last_name," ")}),Object(_.jsx)("p",{className:"text-sm",children:null===t||void 0===t?void 0:t.text})]}),Object(_.jsxs)("span",{className:"absolute right-0 flex items-center text-gray-400",children:[se(t.createdAt),Object(_.jsx)(u.d,{className:"h-4 w-4"})]})]}),(null===n||void 0===n?void 0:n._id)===t.user._id?Object(_.jsx)("button",{onClick:c,className:"text-white bg-red-700 hover:bg-red-800 p-1  m-2 transform hover:scale-125 transition-all  rounded-full",children:Object(_.jsx)(u.j,{className:"h-4 w-4 "})}):null]})},ce=function(e){var t=e.postId,r=Object(n.useState)(""),s=Object(c.a)(r,2),a=s[0],l=s[1],u=i((function(e){return e.user.user})),d=o(),b=localStorage.getItem("token"),x=function(){var e=Object(f.a)(j.a.mark((function e(r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),e.prev=1,!(b&&a.length>0)){e.next=7;break}return e.next=5,m.a.post("api/post/".concat(t,"/new-comment"),{text:a},{headers:{Authorization:b}});case 5:d(g(b)),l("");case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("form",{onSubmit:function(e){return x(e)},children:Object(_.jsxs)("div",{className:"flex items-center ",children:[Object(_.jsx)("img",{className:"inline object-cover w-9 h-9  mr-2 rounded-full",src:null===u||void 0===u?void 0:u.profile_img_url,alt:"avatar"}),Object(_.jsx)(K.a,{placeholder:"Write a comment ...",className:"w-full bg-gray-500 rounded-2xl p-1",onChange:function(e){!function(e){l(e.target.value)}(e)},value:a,required:!0}),Object(_.jsx)("button",{type:"submit",className:"bg-blue-800 rounded hover:bg-blue-900 px-5",children:"Send"})]})})},le=function(e){var t=e.allComments,r=e.postId;return Object(_.jsxs)("div",{className:"flex flex-col border-t-2 border-red-gray-200 mt-2 p-3",children:[Object(_.jsx)(ce,{postId:r}),t&&t.map((function(e){return Object(_.jsx)(ae,{comment:e,postId:r},e._id)}))]})},oe=r(22),ie=r.n(oe),ue=(r(101),function(e){var t=e.postId,r=e.userImg,s=e.closeModal,a=Object(n.useState)(""),l=Object(c.a)(a,2),i=l[0],d=l[1],b=Object(n.useState)(!0),x=Object(c.a)(b,2),h=x[0],p=x[1],v=localStorage.getItem("token"),O=o();Object(n.useEffect)((function(){w()}),[]);var w=function(){var e=Object(f.a)(j.a.mark((function e(){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!v){e.next=9;break}return e.next=4,m.a.get("api/posts/".concat(t),{headers:{Authorization:v}});case 4:r=e.sent,n=r.data.post.text,console.log(r.data.post),d(n),p(!1);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(j.a.mark((function e(r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),e.prev=1,!v){e.next=7;break}return e.next=5,m.a.put("api/posts/".concat(t,"/update"),{text:i},{headers:{Authorization:v}});case 5:e.sent&&(s(),O(g(v)));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return h?Object(_.jsx)("div",{className:"bg-black h-full p-10 flex items-center justify-center ",children:Object(_.jsx)(H.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})}):Object(_.jsx)("div",{className:"bg-gray-800 rounded-xl h-full p-10 flex flex-col text-white",children:Object(_.jsxs)("form",{onSubmit:N,className:"flex-col w-full",children:[Object(_.jsxs)("div",{className:"flex justify-between items-center m-3",children:[Object(_.jsx)("h3",{className:"text-xl font-bold",children:"Edit post:"}),Object(_.jsx)("button",{onClick:s,className:"p-1 bg-red-500 hover:bg-red-600 transform hover:scale-105 rounded-full",children:Object(_.jsx)(u.l,{className:"w-5 h-5"})})]}),Object(_.jsxs)("div",{className:"flex w-full",children:[Object(_.jsx)("img",{className:"inline object-cover w-9 h-9  mr-2 rounded-full",src:r,alt:"avatar"}),Object(_.jsx)(K.a,{placeholder:"Write a comment ...",className:"w-full bg-gray-500 rounded-2xl p-1",onChange:function(e){!function(e){d(e.target.value)}(e)},value:i,required:!0})]}),Object(_.jsx)("div",{className:"flex justify-end m-2",children:Object(_.jsxs)("button",{type:"submit",className:"bg-blue-700 hover:bg-blue-800 transform hover:scale-105 flex items-center justify-center rounded p-2",children:[Object(_.jsx)("p",{children:"Edit post"}),Object(_.jsx)(u.h,{className:"h-5 w-5"})]})})]})})});ie.a.setAppElement("#root");var de={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:0,width:"60%",height:"65%",borderRadius:"0.75rem"}},je=function(e){var t=e.post,r=Object(n.useState)(!1),s=Object(c.a)(r,2),a=s[0],l=s[1],o=Object(n.useState)(!1),d=Object(c.a)(o,2),j=d[0],b=d[1],f=(t.user.profile_img_url,i((function(e){return e.user.user}))),x=function(){l(!a)},h=function(){b(!1)};return Object(_.jsxs)("div",{className:"bg-gray-800 my-4 p-2 rounded",children:[Object(_.jsxs)("div",{className:"flex justify-between items-center",children:[Object(_.jsxs)("div",{className:"flex items-center",children:[Object(_.jsx)("img",{className:"inline object-cover w-9 h-9  mr-2 rounded-full",src:null===t||void 0===t?void 0:t.user.profile_img_url,alt:"avatar"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("p",{className:"font-bold text-base",children:t.user.first_name}),Object(_.jsxs)("p",{className:"text-sm text-gray-100 flex items-center",children:[se(t.createdAt),Object(_.jsx)(u.d,{className:"h-4 w-4"})]})]})]}),Object(_.jsx)("div",{children:(null===f||void 0===f?void 0:f._id)===(null===t||void 0===t?void 0:t.user._id)?Object(_.jsxs)("button",{onClick:function(){b(!0)},className:"flex items-center font-semibold text-gray-400 hover:text-gray-500",children:["Edit",Object(_.jsx)(u.e,{className:"h-5 w-5"})]}):null})]}),Object(_.jsx)("div",{className:"mt-2 p-2 text-justify",children:t.text}),t.image_url&&Object(_.jsx)("div",{className:"flex justify-center",children:Object(_.jsx)("img",{className:"rounded-lg border-black border-2 h-96 w-96",src:t.image_url,alt:"post"})}),Object(_.jsxs)("div",{className:"flex justify-between items-center ",children:[Object(_.jsx)("div",{className:"mt-2 p-2 flex items-center ",children:Object(_.jsx)(X,{likes:t.likes})}),Object(_.jsx)(Z,{showHide:x,comments:t.comments})]}),Object(_.jsxs)("div",{className:"flex justify-evenly p-2  text-gray-400 border-t-2 border-red-gray-200",children:[Object(_.jsx)(ee,{postId:t._id}),Object(_.jsx)(te,{showHide:x}),f&&f._id===t.user._id?Object(_.jsx)(re,{postId:t._id}):null]}),a&&Object(_.jsx)(le,{postId:t._id,allComments:null===t||void 0===t?void 0:t.comments}),Object(_.jsx)(ie.a,{isOpen:j,onRequestClose:h,style:de,contentLabel:"Example modal",children:Object(_.jsx)(ue,{postId:t._id,userImg:null===t||void 0===t?void 0:t.user.profile_img_url,closeModal:h})})]})},be=function(e){var t=i((function(e){return e.allPosts.allPosts}));return i((function(e){return e.allPosts.isFetching}))?Object(_.jsx)("div",{className:"flex justify-center",children:Object(_.jsx)(H.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})}):Object(_.jsx)(_.Fragment,{children:t&&t.map((function(e){return Object(_.jsx)(je,{post:e},e._id)}))})},fe=function(e){return Object(_.jsxs)("div",{className:"overflow-scroll h-full",children:[Object(_.jsx)(Q,{}),Object(_.jsx)(be,{})]})},xe=function(e){var t=e.request;return console.log(t),Object(_.jsxs)("div",{className:"bg-gray-900 rounded flex justify-between mt-2 p-2",children:[Object(_.jsxs)("div",{className:"flex items-center",children:[Object(_.jsx)("img",{className:"inline object-cover w-8 h-8 rounded-full mr-2",src:null===t||void 0===t?void 0:t.profile_img_url,alt:"avatar"}),Object(_.jsx)("p",{className:"text-base",children:"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name," ")})]}),Object(_.jsx)("div",{children:Object(_.jsx)(R,{secondUser_id:null===t||void 0===t?void 0:t._id})})]})},he=function(e){var t=i((function(e){var t;return null===(t=e.user.user)||void 0===t?void 0:t.friend_requests})),r=i((function(e){return e.user.isFetching}));return Object(_.jsxs)("div",{className:"bg-gray-800 bg-opacity-90 m-2 rounded h-2/5 p-2 text-white shadow overflow-auto",children:[Object(_.jsx)("h3",{className:"font-bold mb-1 text-lg ",children:"Pending friend requests:"}),r&&Object(_.jsx)("div",{className:"flex justify-center",children:Object(_.jsx)(H.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})}),!r&&t&&t.map((function(e){return Object(_.jsx)(xe,{request:e},e._id)})),!r&&!(null===t||void 0===t?void 0:t.length)&&Object(_.jsx)("p",{className:"text-red-500",children:"You have no friends requests!"})]})},me=function(e){var t=e.sendRequest;return Object(_.jsxs)("div",{className:"bg-gray-900 rounded flex justify-between mt-2 p-2",children:[Object(_.jsxs)("div",{className:"flex items-center",children:[Object(_.jsx)("img",{className:"inline object-cover w-8 h-8 rounded-full mr-2",src:null===t||void 0===t?void 0:t.profile_img_url,alt:"avatar"}),Object(_.jsx)("p",{className:"text-base",children:"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name," ")})]}),Object(_.jsx)("div",{children:Object(_.jsx)(z,{secondUser_id:null===t||void 0===t?void 0:t._id})})]})},pe=function(e){var t=i((function(e){var t;return null===(t=e.user.user)||void 0===t?void 0:t.friend_send}));return Object(_.jsxs)("div",{className:"bg-gray-800 bg-opacity-90 m-2 rounded h-2/5 p-2 text-white shadow overflow-auto",children:[Object(_.jsx)("h3",{className:"font-bold mb-1 text-lg ",children:"Sent friend requests:"}),t&&t.map((function(e){return Object(_.jsx)(me,{sendRequest:e},e._id)})),!(null===t||void 0===t?void 0:t.length)&&Object(_.jsx)("p",{className:"text-red-500",children:"You have no sent friend requests!"})]})},ve=function(e){return Object(_.jsxs)("div",{className:"w-full h-full flex  text-white",children:[Object(_.jsxs)("div",{className:" w-1/4",children:[Object(_.jsx)(J,{}),Object(_.jsx)(G,{})]}),Object(_.jsx)("div",{className:"w-2/4",children:Object(_.jsx)(fe,{})}),Object(_.jsxs)("div",{className:"w-1/4",children:[Object(_.jsx)(he,{}),Object(_.jsx)(pe,{})]})]})},ge=r(43),Oe=function(e){var t=e.component,r=e.loggedIn,n=Object(ge.a)(e,["component","loggedIn"]);return Object(_.jsx)(U.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return r?Object(_.jsx)(t,Object(b.a)({},e)):Object(_.jsx)(U.a,{to:{pathname:"/",state:{from:e.location}}})}}))},we=function(e){var t=i((function(e){return e.user.user})),r=Object(n.useState)(""),s=Object(c.a)(r,2),a=s[0],l=s[1],u=localStorage.getItem("token"),d=Object(n.useRef)(null),b=o(),x=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!u){e.next=9;break}return(r=new FormData).append("file",a),console.log(r),e.next=7,m.a.post("api/user/updateProfilePicture",r,{headers:{"Content-Type":"multipart/form-data",Authorization:u}});case 7:d.current&&(d.current.value=""),b(g(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"flex justify-center bg-gray-800 rounded",children:Object(_.jsxs)("div",{className:"flex flex-col items-center p-5",children:[Object(_.jsx)("img",{className:"inline object-cover w-40 h-40 mr-2 rounded-full border-4 border-black",src:null===t||void 0===t?void 0:t.profile_img_url,alt:"avatar"}),Object(_.jsx)("h2",{className:"font-bold text-3xl  ",children:"".concat(null===t||void 0===t?void 0:t.first_name," ").concat(null===t||void 0===t?void 0:t.last_name)}),Object(_.jsx)("form",{onSubmit:function(e){x(e)},children:Object(_.jsxs)("div",{className:"flex flex-col border-2 bg-gray-900 p-4 gap-3 rounded",children:[Object(_.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[Object(_.jsx)("label",{className:"font-bold text-xl",children:"If you want to change profile picture click bellow"}),Object(_.jsx)("input",{type:"file",name:"file",onChange:function(e){!function(e){e.target.files&&(console.log(e.target.files),l(e.target.files[0]))}(e)},ref:d})]}),Object(_.jsx)("button",{type:"submit",className:"bg-green-500 rounded  ",children:"Upload file"})]})})]})})},Ne=function(e){var t=i((function(e){return e.user.user}));return Object(_.jsxs)("div",{className:"flex items-center flex-col mt-5",children:[Object(_.jsx)("div",{className:"w-1/2",children:Object(_.jsx)(we,{})}),t&&(null===t||void 0===t?void 0:t.posts.map((function(e){return console.log(e),Object(_.jsx)(je,{post:e},e._id)}))),!(null===t||void 0===t?void 0:t.posts.length)&&Object(_.jsx)("p",{children:"You have no posts!"})]})},ye=function(e){var t=Object(n.useState)(""),r=Object(c.a)(t,2),s=r[0],a=r[1],l=Object(n.useState)(""),o=Object(c.a)(l,2),i=o[0],u=o[1],d=Object(n.useState)(""),b=Object(c.a)(d,2),x=b[0],h=b[1],p=Object(n.useState)(""),v=Object(c.a)(p,2),g=v[0],O=v[1],w=Object(n.useState)(""),N=Object(c.a)(w,2),y=N[0],k=N[1],S=Object(n.useState)(!1),I=Object(c.a)(S,2),F=I[0],C=I[1],E=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,m.a.post("api/user/register",{first_name:s,last_name:i,email:x,password:g});case 4:r=e.sent,console.log(r),C(!F),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),k(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return F?Object(_.jsx)(U.a,{to:"/"}):Object(_.jsx)("div",{className:"flex justify-center w-screen",children:Object(_.jsxs)("div",{className:"bg-gray-800 mt-32 w-1/2 h-auto rounded shadow p-5",children:[Object(_.jsx)("h2",{className:"font-bold text-2xl my-5",children:"Register"}),Object(_.jsx)("form",{onSubmit:function(e){E(e)},children:Object(_.jsxs)("div",{className:"flex flex-col gap-2",children:[Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("label",{htmlFor:"first_name",children:Object(_.jsx)("b",{children:"First Name"})}),Object(_.jsx)("input",{className:"p-2 rounded text-black",type:"text",placeholder:"Enter First Name",name:"first_name",value:s,onChange:function(e){a(e.target.value)},required:!0})]}),Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("label",{htmlFor:"last_name",children:Object(_.jsx)("b",{children:"Last Name"})}),Object(_.jsx)("input",{className:"p-2 rounded text-black",type:"text",placeholder:"Enter Last Name",name:"last_name",value:i,onChange:function(e){u(e.target.value)},required:!0})]}),Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("label",{htmlFor:"email",children:Object(_.jsx)("b",{children:"Email"})}),Object(_.jsx)("input",{className:"p-2 rounded text-black",type:"email",placeholder:"Enter Email",name:"email",value:x,onChange:function(e){h(e.target.value)},required:!0})]}),Object(_.jsxs)("div",{className:"flex flex-col",children:[Object(_.jsx)("label",{htmlFor:"password",children:Object(_.jsx)("b",{children:"Password"})}),Object(_.jsx)("input",{className:"p-2 rounded text-black",type:"password",placeholder:"Enter Password",name:"password",value:g,onChange:function(e){O(e.target.value)},required:!0})]}),y&&Object(_.jsx)("span",{className:"text-red-500",children:y}),Object(_.jsx)("div",{className:"w-full mt-2",children:Object(_.jsx)("button",{type:"submit",className:"w-full bg-blue-500 rounded p-2 font-semibold",children:"Register"})})]})})]})})};ie.a.setAppElement("#root");var ke=function(){var e=i((function(e){return e.user.loggedIn})),t=o();return Object(n.useEffect)((function(){var e=localStorage.getItem("access_token");e&&t(v(e))}),[]),Object(_.jsx)(k.a,{children:Object(_.jsxs)("div",{className:" h-full text-white bg-gray-700",children:[Object(_.jsx)(F,{}),Object(_.jsxs)(U.d,{children:[Object(_.jsx)(U.b,{exact:!0,path:"/",component:q}),Object(_.jsx)(U.b,{exact:!0,path:"/register",component:ye}),Object(_.jsx)(Oe,{exact:!0,component:ve,path:"/odinbook",loggedIn:e}),Object(_.jsx)(Oe,{component:Ne,path:"/profile",loggedIn:e})]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=Object(x.a)({reducer:{user:y,allUsers:L,allPosts:M}});m.a.defaults.baseURL="https://warm-falls-67590.herokuapp.com/",a.a.render(Object(_.jsx)(l.a,{store:_e,children:Object(_.jsx)(ke,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,r){}},[[102,1,2]]]);
//# sourceMappingURL=main.194d259e.chunk.js.map